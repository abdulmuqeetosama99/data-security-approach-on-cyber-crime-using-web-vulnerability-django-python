{% extends 'email_admin/admin_design.html' %}
{% load static %}

{% block adminblock %}
<a href="{% url 'categoryanalysis_chart' 'pie' %}" class="black" style="padding-right:10px"> <i class='fas fa-chart-pie'></i> Pie Chart</a>
<a href="{% url 'categoryanalysis_chart' 'bar' %}" class="black" > <i class='fas fa-chart-bar' class ="blue"></i>  Chart</a>
<a href="{% url 'categoryanalysis_chart' 'coloumn' %}" class="black" ><i class='fas fa-chart-bar'></i>Bar Chart</a>

<div id="chartContainer" class="graph" style="height: 370px; width: 100%; margin: auto;float:left;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script>
window.onload = function() {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	title: {
		text: "CRIME ANALYSIS"
	},
	data: [{
	{% if chart_type == "bar" %}
		type: "bar",
	{% elif chart_type == "pie" %}
		type: "pie",
	{% elif chart_type == "spline" %}
		type: "spline",
	{% endif %}
		startAngle: 240,
		yValueFormatString: "##0.00\"%\"",
		indexLabel: "{label} {y}",
		dataPoints: [
		{% for o in objects %}
			{y: {{o.dcount}}, label: "{{o.category}}"},
		{% endfor %}
		]
	}]
});
chart.render();

}

</script>

{%endblock%}
